HPL.dat优化linpack
https://wenku.baidu.com/view/c4e3447a168884868762d6fb.html

系统：
系统都是ubuntu（版本一样，cat /proc/version可以查看系统版本）

软件：
是他们自己的软件，没有名字，超算用的
去现场他那边当时的算例核数设置都是mpirun -np 101

硬件配置：
cpu都是：双CPU,都是Intel Xeon(R) Platin um 8180 CPU @ 2.50GHZ
         每个cpu28核，计算速度正常服务器的开了超线程一共有112逻辑核数，计算速度较慢的没开超线程一共有56个逻辑核数
内存都是：256GB
换过一次主板：都是Supermicro X11DAi-N,但是计算速度正常的BIOS版本是2.0b，另一个速度较慢的换过一次主板的BIOS版本是3.0a，bios设置有一些区别。

现场往服务器拷贝文件需要单独把文件拷贝到其专用U盘里面，现场服务器没有网络，ubuntu里没有linpack
前一次去现场，发现计算速度正常的开了超线程，较慢的没开，把速度较慢的服务器打开超线程以后计算，现场学生说比以前计算更慢又把超线程关了
现场尝试安装linpack失败了

今天去现场打算：
1.到现场，查看ubuntu系统版本，手机连接开共享网络，两台服务器全部安装teamviewer,然后远程安装linpack进行测试CPU性能，因为自己在ubuntu尝试安装linpack失败
2.两台服务器在开超线程和不开超线程情况下都满核跑一个不大的算例查看计算速度有什么区别（估计这个测试会花比较久的时间）
3.查看机箱内部内存条安装是几通道是不是一样，上面测试时也查看cpu和内存调用是否相同

现场情况：
先检查系统版本，软件版本，cpu核数数，内存大小，一样

1.两台服务器打开linpack测试，测试后正常的服务器超线程135w左右的结果，
有问题的服务器的没开超线程130w左右，开了以后145-150w，两台服务器同时运算算例，速度都是正常，没有问题，

2.但是把有问题的服务器重启后计算发现计算速度像以前说的变慢，输入source /etc/profile，测试还是速度很慢，

3.再进行linpack测试看计算速度是142w在往上提升，没有问题和之前测试一样，然后再次进行计算查看计算速度正常，判断重启要先运行linpack一小下能有正常的计算速度。

4.重启后打开linpack，运行一小下关闭，进行计算速度正常，重启后linpack运行一小下速度恢复正常。

5.重启后不开linpack，直接计算，速度还是变慢。

6.重启以后先打开linpack测试然后运行后速度正常，教他怎么打开运行，在旁边桌面写上步骤和注释，让他写好满意表以后离开现场



所以目前找到的解决方法是现在正常使用，如果断电或者重启后开机先运行一下linpack，然后计算速度就会正常。